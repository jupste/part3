(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),u=n.n(i),r=n(12),o=n(2),l=function(e){var t=e.person,n=e.deleteEntry;return c.a.createElement("li",null,t.name," ",t.number," ",c.a.createElement("button",{onClick:n},"poista"))},m=function(e){var t=e.modifySearch,n=e.search;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4",c.a.createElement("input",{value:n,onChange:t}))))},f=function(e){var t=e.addPerson,n=e.newName,a=e.handleNameChange,i=e.newNumber,u=e.handleNumberChange;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,"nimi:",c.a.createElement("input",{value:n,onChange:a})),c.a.createElement("div",null,"numero: ",c.a.createElement("input",{value:i,onChange:u})),c.a.createElement("button",{type:"submit"},"tallenna")))},s=n(3),h=n.n(s),d="/api/persons",v=function(){return h.a.get(d).then(function(e){return e.data})},p=function(e){return h.a.post(d,e).then(function(e){return e.data})},b=function(e,t){return h.a.put("".concat(d,"/").concat(e),t).then(function(e){return e.data})},E=function(e){return h.a.delete("".concat(d,"/").concat(e.id)).then(function(e){return e.data})},j=function(){var e=Object(a.useState)([{name:"Arto Hellas"}]),t=Object(o.a)(e,2),n=t[0],i=t[1],u=Object(a.useState)(""),s=Object(o.a)(u,2),h=s[0],d=s[1],j=Object(a.useState)(""),g=Object(o.a)(j,2),w=g[0],k=g[1],O=Object(a.useState)(""),S=Object(o.a)(O,2),y=S[0],N=S[1],C=Object(a.useState)(""),P=Object(o.a)(C,2),J=P[0],L=P[1],T=Object(a.useState)(""),x=Object(o.a)(T,2),A=x[0],B=x[1],D=function(e){L(e),setTimeout(function(){L(null)},4e3)},H=function(e){B(e),setTimeout(function(){B(null)},4e3)};Object(a.useEffect)(function(){console.log("effect"),v().then(function(e){i(e)})},[]);var I=n.filter(function(e){return e.name.toLowerCase().includes(h.toLowerCase())});return c.a.createElement("div",null,c.a.createElement("h2",null,"Puhelinluettelo"),c.a.createElement("span",{className:"error"}," ",A),c.a.createElement("span",{className:"notification"},J),c.a.createElement(m,{search:h,modifySearch:function(e){d(e.target.value)}}),c.a.createElement(f,{addPerson:function(e){if(e.preventDefault(),n.filter(function(e){return e.name===w}).length>0){var t=n.find(function(e){return e.name===w});if(window.confirm("henkil\xf6 ".concat(w," on jo luettelossa haluatko p\xe4ivitt\xe4\xe4 numeron?"))){var a={name:w,number:y};b(t.id,a).then(function(e){var t=Object(r.a)(n);t.forEach(function(t){return t.id===e.id?t.number=e.number:0}),i(t),k(""),N(""),D("henkil\xf6n ".concat(w," puhelinnumero p\xe4ivitetty"))}).catch(function(e){H("henkil\xf6 '".concat(w,"' on jo valitettavasti poistettu palvelimelta"))})}else D("henkil\xf6n ".concat(w," puhelinnumeroa ei p\xe4ivitetty"))}else p({name:w,number:y}).then(function(e){i(n.concat(e)),k(""),N(""),D("henkil\xf6 ".concat(w," lis\xe4tty"))}).catch(function(e){H("henkil\xf6 '".concat(w,"' on jo valitettavasti poistettu palvelimelta"))})},newName:w,newNumber:y,handleNameChange:function(e){k(e.target.value)},handleNumberChange:function(e){N(e.target.value)}}),c.a.createElement("h2",null,"Numerot"),c.a.createElement("ul",null,I.map(function(e){return c.a.createElement(l,{key:e.name,person:e,deleteEntry:function(){return function(e){var t=n.find(function(t){return t.id===e});window.confirm("Poistetaanko ".concat(t.name,"?"))&&(E(t).then(function(e){D("henkil\xf6 ".concat(t.name," poistettiin"))}).catch(function(e){H("henkil\xf6 '".concat(t.name,"' on jo valitettavasti poistettu palvelimelta"))}),i(n.filter(function(e){return e.id.toString()!==t.id.toString()})))}(e.id)}})})))};n(38);u.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.177d21f1.chunk.js.map