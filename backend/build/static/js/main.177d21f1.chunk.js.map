{"version":3,"sources":["components/person.js","components/filter.js","components/personform.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","deleteEntry","react_default","a","createElement","name","number","onClick","Filter","modifySearch","search","onSubmit","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setSearch","_useState5","_useState6","setNewName","_useState7","_useState8","setNewNumber","_useState9","_useState10","notification","setNotification","_useState11","_useState12","errormessage","setError","editNotification","msg","setTimeout","editError","useEffect","console","log","personService","initialData","personsToShow","filter","toLowerCase","includes","className","event","target","personform","preventDefault","p","length","find","window","confirm","personObject","newPersons","toConsumableArray","forEach","catch","error","map","components_person","key","n","deletedPerson","toString","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.177d21f1.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteEntry }) => {\n    return (\n      <li>{person.name} {person.number} <button onClick={deleteEntry}>poista</button></li>\n    )\n}\n\nexport default Person","import React from 'react'\n\n\n\nconst Filter = ({modifySearch, search}) => {\n    return (\n    <div>\n    <form onSubmit={modifySearch}>\n      <div>\n        rajaa näytettäviä\n        <input value={search}\n        onChange={modifySearch}/>\n      </div>\n    </form>\n    </div>\n    )\n}\n    \nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return (\n        <div>\n        <form onSubmit={addPerson}>\n        <div>\n        nimi: \n          <input\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>numero: <input value={newNumber} onChange={handleNumberChange}/></div>\n          <button type=\"submit\">tallenna</button>      \n        </form>\n        </div>\n    )\n}\n    \nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\nconst deleteEntry = (person) =>{\n    const request = axios.delete(`${baseUrl}/${person.id}`)\n    return request.then(response => response.data)\n}\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deleteEntry: deleteEntry\n}","import React, { useState, useEffect } from 'react'\nimport Person from './components/person'\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([\n    { name: 'Arto Hellas'}\n  ]) \n  const [ search, setSearch] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ notification, setNotification] = useState('')\n  const [ errormessage, setError] = useState('')\n\n  const editNotification = (msg) => {\n    setNotification(msg)\n    setTimeout(() => {\n      setNotification(null)\n    }, 4000);\n  }\n  const editError = (msg) => {\n    setError(msg)\n    setTimeout(() => {\n      setError(null)\n    }, 4000);\n  }\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialData => {\n        setPersons(initialData)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(persons.filter(p => p.name===newName).length>0){\n      const p= persons.find(person => person.name === newName)\n      if(window.confirm(`henkilö ${newName} on jo luettelossa haluatko päivittää numeron?`)){\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        personService\n        .update(p.id, personObject)\n        .then(person => {\n          const newPersons = [...persons];\n          newPersons.forEach(p => p.id === person.id ? p.number = person.number : 0);\n          setPersons(newPersons)\n          setNewName('')\n          setNewNumber('')\n          editNotification(`henkilön ${newName} puhelinnumero päivitetty`)  \n      }).catch(error => {\n        editError(`henkilö '${newName}' on jo valitettavasti poistettu palvelimelta`);\n      })\n      }else{\n        editNotification(`henkilön ${newName} puhelinnumeroa ei päivitetty`)\n      }\n\n    }else{\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n      .create(personObject)\n        .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        editNotification(`henkilö ${newName} lisätty`)\n      })\n      .catch(error => {\n        editError(`henkilö '${newName}' on jo valitettavasti poistettu palvelimelta`);\n      })\n      \n  }\n  }\n  const deleteEntry = id => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Poistetaanko ${person.name}?`)) {\n    personService\n      .deleteEntry(person).then(deletedPerson => {\n        editNotification(`henkilö ${person.name} poistettiin`)\n      })\n      .catch(error => {\n        editError(`henkilö '${person.name}' on jo valitettavasti poistettu palvelimelta`);\n      })\n      setPersons(persons.filter(p => p.id.toString() !== person.id.toString()))\n    }\n    \n    \n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const modifySearch = (event) => {\n    setSearch(event.target.value)\n  }\n  const personsToShow = persons.filter(person =>person.name.toLowerCase().includes(search.toLowerCase()))\n  const rows = () => personsToShow.map(person =>\n    <Person\n      key={person.name}\n      person={person}\n      deleteEntry={() => deleteEntry(person.id)}\n    />\n  )\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <span className=\"error\"> {errormessage}</span>\n      <span className= \"notification\">{notification}</span>\n      <Filter search={search} modifySearch={modifySearch}/>\n      <PersonForm addPerson= {addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h2>Numerot</h2>\n      <ul>{rows()}</ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}